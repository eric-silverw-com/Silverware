OBJECT Page 6085626 DC Setup - Web Approval
{
  OBJECT-PROPERTIES
  {
    Date=07/23/18;
    Time=[ 1:00:00 AM];
    Version List=DCW16.00.00.5.00.02;
  }
  PROPERTIES
  {
    CaptionML=ENU=Document Capture Setup / Web Approval;
    InsertAllowed=No;
    DeleteAllowed=No;
    LinksAllowed=No;
    SourceTable=Table6085573;
    PageType=Card;
    PromotedActionCategoriesML=ENU=0,Web Portal,2,Users;
    OnOpenPage=BEGIN
                 RESET;
                 IF NOT GET THEN BEGIN
                   INIT;
                   INSERT(TRUE);
                 END;

                 EnableFields;
               END;

    OnAfterGetRecord=BEGIN
                       EnableFields;
                     END;

    ActionList=ACTIONS
    {
      { 161024072;   ;ActionContainer;
                      Name=Actions;
                      ActionContainerType=ActionItems }
      { 6085584 ;1   ;Action    ;
                      Name=ContiniaUserSetup;
                      CaptionML=ENU=Continia User Setup;
                      RunObject=Page 6086051;
                      Promoted=Yes;
                      Image=UserSetup;
                      PromotedCategory=Category4 }
      { 161024074;1  ;ActionGroup;
                      Name=Functions;
                      CaptionML=ENU=F&unctions }
      { 6085585 ;2   ;Action    ;
                      Name=WebPortal;
                      CaptionML=ENU=Continia Web Portal;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Setup;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 ContiniaCompanySetup@6085573 : Record 6192773;
                                 ContiniaWebPortal@6085574 : Record 6192774;
                               BEGIN
                                 IF ContiniaCompanySetup.GET THEN
                                   IF ContiniaWebPortal.GET(ContiniaCompanySetup."Web Portal Code") THEN BEGIN
                                     PAGE.RUN(PAGE::"Continia Web Portal Card",ContiniaWebPortal);
                                     EXIT;
                                   END;

                                 PAGE.RUN(PAGE::"Continia Web Portal List");
                               END;
                                }
      { 6085579 ;2   ;Action    ;
                      Name=Create Web Services;
                      CaptionML=ENU=Create Web Services;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=LaunchWeb;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Create DC Web Services");
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1000000000;;Container;
                Name=Content;
                ContainerType=ContentArea }

    { 1000000001;1;Group  ;
                Name=General;
                CaptionML=ENU=General;
                GroupType=Group }

    { 6085589;2;Field     ;
                Name=WebPortalCode;
                CaptionML=ENU=Continia Web Portal;
                SourceExpr=GetWebPortalCode;
                OnDrillDown=BEGIN
                              PAGE.RUN(PAGE::"Continia Company Setup");
                            END;
                             }

    { 6085577;2;Group     ;
                Name=FieldsToShowOnLines;
                CaptionML=ENU=Fields to Show;
                GroupType=Group }

    { 161024063;3;Field   ;
                Name=Web: Show Type;
                CaptionML=ENU=Type;
                SourceExpr="Web: Show Type" }

    { 161024060;3;Field   ;
                Name=Web: Show Posting Account Name;
                CaptionML=ENU=Posting Account Name;
                SourceExpr="Web: Show Posting Account Name" }

    { 1160040001;3;Field  ;
                Name=Web: Show FA Posting Type;
                CaptionML=ENU=FA Posting Type;
                SourceExpr="Web: Show FA Posting Type" }

    { 161024055;3;Field   ;
                Name=Web: Show Description 2;
                CaptionML=ENU=Description 2;
                SourceExpr="Web: Show Description 2" }

    { 161024053;3;Field   ;
                Name=Web: Show Prod. Posting Group;
                CaptionML=ENU=Prod. Posting Group;
                SourceExpr="Web: Show Prod. Posting Group";
                Importance=Additional }

    { 161024052;3;Field   ;
                Name=Web: Show VAT Prod. Group;
                CaptionML=[ENU=VAT Prod. Group;
                           ENC=Tax Prod. Group];
                SourceExpr="Web: Show VAT Prod. Group";
                Importance=Additional }

    { 161024061;3;Field   ;
                Name=Web: Show Unit of Measure;
                CaptionML=ENU=Unit of Measure;
                SourceExpr="Web: Show Unit of Measure";
                Importance=Additional }

    { 6085587;3;Field     ;
                Name=Web: Show Location Code;
                CaptionML=ENU=Location Code;
                SourceExpr="Web: Show Location Code";
                Importance=Additional }

    { 161024056;3;Field   ;
                Name=Web: Show Line Discount Pct.;
                CaptionML=ENU=Line Discount Pct.;
                SourceExpr="Web: Show Line Discount Pct." }

    { 161024021;3;Field   ;
                Name=Web: Show Job No.;
                CaptionML=ENU=Job No.;
                SourceExpr="Web: Show Job No." }

    { 161024020;3;Field   ;
                Name=Web: Show Job Task No.;
                CaptionML=ENU=Job Task No.;
                SourceExpr="Web: Show Job Task No." }

    { 6085611;3;Field     ;
                Name=Web: Show Deferral Code;
                CaptionML=ENU=Deferral Code;
                SourceExpr="Web: Show Deferral Code";
                Editable=DeffCodeEditable }

    { 161024062;3;Field   ;
                Name=Web: Dim. & Job Field Place.;
                SourceExpr="Web: Dim. & Job Field Place.";
                Importance=Additional }

    { 6085586;3;Field     ;
                Name=Web: Show Amounts in LCY;
                CaptionML=[ENU=Amounts in LCY;
                           ENC=Amounts in $];
                SourceExpr="Web: Show Amounts in LCY";
                Importance=Additional }

    { 6085583;2;Group     ;
                Name=ForwardSettings;
                CaptionML=ENU=Forward Settings;
                GroupType=Group }

    { 6085582;3;Field     ;
                Name=Allow Forward and Approve;
                SourceExpr="Allow Forward and Approve" }

    { 6085581;3;Field     ;
                Name=Allow Forward w/o Approv.;
                SourceExpr="Allow Forward w/o Approv." }

    { 6085580;3;Field     ;
                Name=Allow Forward and Return;
                SourceExpr="Allow Forward and Return" }

    { 6085578;2;Group     ;
                Name=Archive;
                CaptionML=ENU=Archive;
                GroupType=Group }

    { 6085576;3;Field     ;
                Name=ShowDocuments;
                CaptionML=ENU=Show;
                OptionCaptionML=ENU=All documents,Users own documents only;
                SourceExpr=ShowDocumentsInArchive;
                Editable=ShowDocumentsEditable;
                OnValidate=BEGIN
                             IF ShowDocumentsInArchive = ShowDocumentsInArchive::UserDocuments THEN
                               VALIDATE("Maintain User Document Search",TRUE)
                             ELSE
                               VALIDATE("Maintain User Document Search",FALSE);
                             MODIFY;

                             CurrPage.UPDATE(FALSE);
                           END;
                            }

    { 6085575;3;Field     ;
                Name=Web: Historical Documents;
                CaptionML=ENU=Include;
                SourceExpr="Web: Historical Documents";
                Importance=Additional }

    { 6085588;1;Group     ;
                Name=Web Dimensions;
                CaptionML=ENU=Dimensions;
                GroupType=Group }

    { 6085573;2;Group     ;
                Name=Header Dimensions to Show;
                CaptionML=ENU=Header Dimensions to Show;
                GroupType=Group }

    { 161024028;3;Field   ;
                Name=Web: Dimension 1 Code (Header);
                CaptionML=ENU=Dimension 1 Code;
                SourceExpr="Web: Dimension 1 Code (Header)" }

    { 161024030;3;Field   ;
                Name=Web: Dimension 2 Code (Header);
                CaptionML=ENU=Dimension 2 Code;
                SourceExpr="Web: Dimension 2 Code (Header)" }

    { 161024031;3;Field   ;
                Name=Web: Dimension 3 Code (Header);
                CaptionML=ENU=Dimension 3 Code;
                SourceExpr="Web: Dimension 3 Code (Header)" }

    { 161024032;3;Field   ;
                Name=Web: Dimension 4 Code (Header);
                CaptionML=ENU=Dimension 4 Code;
                SourceExpr="Web: Dimension 4 Code (Header)";
                Importance=Additional }

    { 161024033;3;Field   ;
                Name=Web: Dimension 5 Code (Header);
                CaptionML=ENU=Dimension 5 Code;
                SourceExpr="Web: Dimension 5 Code (Header)";
                Importance=Additional }

    { 161024034;3;Field   ;
                Name=Web: Dimension 6 Code (Header);
                CaptionML=ENU=Dimension 6 Code;
                SourceExpr="Web: Dimension 6 Code (Header)";
                Importance=Additional }

    { 161024035;3;Field   ;
                Name=Web: Dimension 7 Code (Header);
                CaptionML=ENU=Dimension 7 Code;
                SourceExpr="Web: Dimension 7 Code (Header)";
                Importance=Additional }

    { 161024036;3;Field   ;
                Name=Web: Dimension 8 Code (Header);
                CaptionML=ENU=Dimension 8 Code;
                SourceExpr="Web: Dimension 8 Code (Header)";
                Importance=Additional }

    { 6085574;2;Group     ;
                Name=Line Dimensions to Show;
                CaptionML=ENU=Line Dimensions to Show;
                GroupType=Group }

    { 161024037;3;Field   ;
                Name=Web: Dimension 1 Code (Lines);
                CaptionML=ENU=Dimension 1 Code;
                SourceExpr="Web: Dimension 1 Code (Lines)" }

    { 161024038;3;Field   ;
                Name=Web: Dimension 2 Code (Lines);
                CaptionML=ENU=Dimension 2 Code;
                SourceExpr="Web: Dimension 2 Code (Lines)" }

    { 161024039;3;Field   ;
                Name=Web: Dimension 3 Code (Lines);
                CaptionML=ENU=Dimension 3 Code;
                SourceExpr="Web: Dimension 3 Code (Lines)" }

    { 161024040;3;Field   ;
                Name=Web: Dimension 4 Code (Lines);
                CaptionML=ENU=Dimension 4 Code;
                SourceExpr="Web: Dimension 4 Code (Lines)";
                Importance=Additional }

    { 161024041;3;Field   ;
                Name=Web: Dimension 5 Code (Lines);
                CaptionML=ENU=Dimension 5 Code;
                SourceExpr="Web: Dimension 5 Code (Lines)";
                Importance=Additional }

    { 161024042;3;Field   ;
                Name=Web: Dimension 6 Code (Lines);
                CaptionML=ENU=Dimension 6 Code;
                SourceExpr="Web: Dimension 6 Code (Lines)";
                Importance=Additional }

    { 161024043;3;Field   ;
                Name=Web: Dimension 7 Code (Lines);
                CaptionML=ENU=Dimension 7 Code;
                SourceExpr="Web: Dimension 7 Code (Lines)";
                Importance=Additional }

    { 161024044;3;Field   ;
                Name=Web: Dimension 8 Code (Lines);
                CaptionML=ENU=Dimension 8 Code;
                SourceExpr="Web: Dimension 8 Code (Lines)";
                Importance=Additional }

  }
  CODE
  {
    VAR
      ContiniaCompanySetup@6085576 : Record 6192773;
      DeffCodeEditable@6085574 : Boolean INDATASET;
      ShowDocumentsInArchive@6085573 : 'AllDocuments,UserDocuments';
      ShowDocumentsEditable@6085575 : Boolean INDATASET;
      NotConfiguredTxt@6085577 : TextConst 'ENU=Not configured';

    PROCEDURE EnableFields@1160040000();
    VAR
      ContiniaVersionMgt@6085573 : Codeunit 6192775;
    BEGIN
      DeffCodeEditable := ContiniaVersionMgt.NAVVersion >= 90000;
      IF "Maintain User Document Search" THEN
        ShowDocumentsInArchive := ShowDocumentsInArchive::UserDocuments
      ELSE
        ShowDocumentsInArchive := ShowDocumentsInArchive::AllDocuments;
      ShowDocumentsEditable := CurrPage.EDITABLE;
    END;

    LOCAL PROCEDURE GetWebPortalCode@6085573() : Text[1024];
    VAR
      ContiniaCompanySetup@6085574 : Record 6192773;
      ContiniaWebPortal@6085573 : Record 6192774;
    BEGIN
      IF ContiniaCompanySetup.GET AND ContiniaWebPortal.GET(ContiniaCompanySetup."Web Portal Code") THEN
        EXIT(ContiniaWebPortal.Code)
      ELSE
        EXIT(NotConfiguredTxt);
    END;

    BEGIN
    END.
  }
}


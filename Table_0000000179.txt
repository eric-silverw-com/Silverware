OBJECT Table 179 Reversal Entry
{
  OBJECT-PROPERTIES
  {
    Date=09/19/18;
    Time=12:00:00 PM;
    Version List=NAVW113.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Reversal Entry;
               ESM=Mov. de reversi¢n;
               FRC=êcriture de contrepassation;
               ENC=Reversal Entry];
    PasteIsValid=No;
  }
  FIELDS
  {
    { 1   ;   ;Line No.            ;Integer       ;CaptionML=[ENU=Line No.;
                                                              ESM=Nß l°nea;
                                                              FRC=N¯ de ligne;
                                                              ENC=Line No.] }
    { 2   ;   ;Entry Type          ;Option        ;CaptionML=[ENU=Entry Type;
                                                              ESM=Tipo movimiento;
                                                              FRC=Type d'Çcriture;
                                                              ENC=Entry Type];
                                                   OptionCaptionML=[ENU=" ,G/L Account,Customer,Vendor,Bank Account,Fixed Asset,Maintenance,Tax,Employee";
                                                                    ESM=" ,Cuenta,Cliente,Proveedor,Banco,Activo fijo,Mantenimiento,IVA,Empleado";
                                                                    FRC=" ,Compte du grand livre,Client,Fournisseur,Compte bancaire,Immobilisations,Entretien,TVA,EmployÇ";
                                                                    ENC=" ,G/L Account,Customer,Vendor,Bank Account,Fixed Asset,Maintenance,Tax,Employee"];
                                                   OptionString=[ ,G/L Account,Customer,Vendor,Bank Account,Fixed Asset,Maintenance,VAT,Employee] }
    { 3   ;   ;Entry No.           ;Integer       ;TableRelation=IF (Entry Type=CONST(G/L Account)) "G/L Entry"
                                                                 ELSE IF (Entry Type=CONST(Customer)) "Cust. Ledger Entry"
                                                                 ELSE IF (Entry Type=CONST(Vendor)) "Vendor Ledger Entry"
                                                                 ELSE IF (Entry Type=CONST(Bank Account)) "Bank Account Ledger Entry"
                                                                 ELSE IF (Entry Type=CONST(Fixed Asset)) "FA Ledger Entry"
                                                                 ELSE IF (Entry Type=CONST(Maintenance)) "Maintenance Ledger Entry"
                                                                 ELSE IF (Entry Type=CONST(VAT)) "VAT Entry";
                                                   CaptionML=[ENU=Entry No.;
                                                              ESM=Nß mov.;
                                                              FRC=N¯ d'Çcriture;
                                                              ENC=Entry No.] }
    { 4   ;   ;G/L Register No.    ;Integer       ;TableRelation="G/L Register";
                                                   CaptionML=[ENU=G/L Register No.;
                                                              ESM=Nß asto. registro;
                                                              FRC=N¯ de registre GL;
                                                              ENC=G/L Register No.] }
    { 5   ;   ;Source Code         ;Code10        ;TableRelation="Source Code";
                                                   CaptionML=[ENU=Source Code;
                                                              ESM=C¢d. origen;
                                                              FRC=Code d'origine;
                                                              ENC=Source Code] }
    { 6   ;   ;Journal Batch Name  ;Code10        ;CaptionML=[ENU=Journal Batch Name;
                                                              ESM=Nombre secci¢n diario;
                                                              FRC=Nom lot de journal;
                                                              ENC=Journal Batch Name] }
    { 7   ;   ;Transaction No.     ;Integer       ;CaptionML=[ENU=Transaction No.;
                                                              ESM=Nß asiento;
                                                              FRC=N¯ transaction;
                                                              ENC=Transaction No.] }
    { 8   ;   ;Source Type         ;Option        ;CaptionML=[ENU=Source Type;
                                                              ESM=Tipo procedencia mov.;
                                                              FRC=Type origine;
                                                              ENC=Source Type];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Bank Account,Fixed Asset,Employee";
                                                                    ESM=" ,Cliente,Proveedor,Banco,Activo fijo,Empleado";
                                                                    FRC=" ,Client,Fournisseur,Compte bancaire,Immobilisation,EmployÇ";
                                                                    ENC=" ,Customer,Vendor,Bank Account,Fixed Asset,Employee"];
                                                   OptionString=[ ,Customer,Vendor,Bank Account,Fixed Asset,Employee] }
    { 9   ;   ;Source No.          ;Code20        ;TableRelation=IF (Source Type=CONST(Customer)) Customer
                                                                 ELSE IF (Source Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Source Type=CONST(Bank Account)) "Bank Account"
                                                                 ELSE IF (Source Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                 ELSE IF (Source Type=CONST(Employee)) Employee;
                                                   CaptionML=[ENU=Source No.;
                                                              ESM=C¢d. procedencia mov.;
                                                              FRC=N¯ origine;
                                                              ENC=Source No.] }
    { 10  ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   CaptionML=[ENU=Currency Code;
                                                              ESM=C¢d. divisa;
                                                              FRC=Code de devise;
                                                              ENC=Currency Code] }
    { 11  ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 12  ;   ;Amount              ;Decimal       ;CaptionML=[ENU=Amount;
                                                              ESM=Importe;
                                                              FRC=Montant;
                                                              ENC=Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 13  ;   ;Debit Amount        ;Decimal       ;CaptionML=[ENU=Debit Amount;
                                                              ESM=Importe debe;
                                                              FRC=Montant de dÇbit;
                                                              ENC=Debit Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 14  ;   ;Credit Amount       ;Decimal       ;CaptionML=[ENU=Credit Amount;
                                                              ESM=Importe haber;
                                                              FRC=Montant de crÇdit;
                                                              ENC=Credit Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 15  ;   ;Amount (LCY)        ;Decimal       ;CaptionML=[ENU=Amount ($);
                                                              ESM=Importe ($);
                                                              FRC=Montant ($);
                                                              ENC=Amount ($)];
                                                   AutoFormatType=1 }
    { 16  ;   ;Debit Amount (LCY)  ;Decimal       ;CaptionML=[ENU=Debit Amount ($);
                                                              ESM=Importe debe ($);
                                                              FRC=Montant de dÇbit ($);
                                                              ENC=Debit Amount ($)];
                                                   AutoFormatType=1 }
    { 17  ;   ;Credit Amount (LCY) ;Decimal       ;CaptionML=[ENU=Credit Amount ($);
                                                              ESM=Importe haber ($);
                                                              FRC=Montant de crÇdit ($);
                                                              ENC=Credit Amount ($)];
                                                   AutoFormatType=1 }
    { 18  ;   ;VAT Amount          ;Decimal       ;CaptionML=[ENU=Tax Amount;
                                                              ESM=Importe IVA;
                                                              FRC=Montant de TVA;
                                                              ENC=Tax Amount];
                                                   AutoFormatType=1 }
    { 19  ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              ESM=Fecha registro;
                                                              FRC=Date de report;
                                                              ENC=Posting Date] }
    { 20  ;   ;Document Type       ;Option        ;CaptionML=[ENU=Document Type;
                                                              ESM=Tipo documento;
                                                              FRC=Type de document;
                                                              ENC=Document Type];
                                                   OptionCaptionML=[ENU=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund";
                                                                    ESM=" ,Pago,Factura,Nota crÇdito,Docs. interÇs,Recordatorio,Reembolso";
                                                                    FRC=" ,Paiement,Facture,Note de crÇdit,Note de frais financiers,Rappel,Remboursement";
                                                                    ENC=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund"];
                                                   OptionString=[ ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund] }
    { 21  ;   ;Document No.        ;Code20        ;CaptionML=[ENU=Document No.;
                                                              ESM=Nß documento;
                                                              FRC=N¯ de document;
                                                              ENC=Document No.] }
    { 22  ;   ;Account No.         ;Code20        ;CaptionML=[ENU=Account No.;
                                                              ESM=Nß cuenta;
                                                              FRC=N¯ de compte;
                                                              ENC=Account No.] }
    { 23  ;   ;Account Name        ;Text50        ;CaptionML=[ENU=Account Name;
                                                              ESM=Nombre cuenta;
                                                              FRC=Nom du compte;
                                                              ENC=Account Name] }
    { 25  ;   ;Bal. Account Type   ;Option        ;CaptionML=[ENU=Bal. Account Type;
                                                              ESM=Tipo contrapartida;
                                                              FRC=Type de compte de contrìle;
                                                              ENC=Bal. Account Type];
                                                   OptionCaptionML=[ENU=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner;
                                                                    ESM=Cuenta,Cliente,Proveedor,Banco,Activo fijo,Empresa vinculada asociada;
                                                                    FRC=Compte du grand livre,Client,Fournisseur,Compte bancaire,Immobilisation,Partenaire IC;
                                                                    ENC=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner];
                                                   OptionString=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner }
    { 26  ;   ;Bal. Account No.    ;Code20        ;TableRelation=IF (Bal. Account Type=CONST(G/L Account)) "G/L Account"
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Bal. Account Type=CONST(Bank Account)) "Bank Account"
                                                                 ELSE IF (Bal. Account Type=CONST(Fixed Asset)) "Fixed Asset";
                                                   CaptionML=[ENU=Bal. Account No.;
                                                              ESM=Cta. contrapartida;
                                                              FRC=N¯ de compte de contrìle;
                                                              ENC=Bal. Account No.] }
    { 27  ;   ;FA Posting Category ;Option        ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Posting Category;
                                                              ESM=A/F Categor°a registro;
                                                              FRC=CatÇgorie report immo.;
                                                              ENC=FA Posting Category];
                                                   OptionCaptionML=[ENU=" ,Disposal,Bal. Disposal";
                                                                    ESM=" ,Venta/Baja,Contrapartida venta/baja";
                                                                    FRC=" ,Cession,Cession de solde";
                                                                    ENC=" ,Disposal,Bal. Disposal"];
                                                   OptionString=[ ,Disposal,Bal. Disposal] }
    { 28  ;   ;FA Posting Type     ;Option        ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Posting Type;
                                                              ESM=A/F Tipo registro;
                                                              FRC=Type de report immo.;
                                                              ENC=FA Posting Type];
                                                   OptionCaptionML=[ENU=" ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Proceeds on Disposal,Salvage Value,Gain/Loss,Book Value on Disposal";
                                                                    ESM=" ,Costo,Amortizaci¢n,Depreciaci¢n,Apreciaci¢n,Especial,Provisi¢n,Venta/Baja,Valor residual,Beneficio/PÇrdida,Valor neto en venta/baja";
                                                                    FRC=" ,Coñt acquisition,Amortissement,DÇvaluation,ApprÇciation,Param. 1,Param 2,Gains sur cession,Valeur rÇsiduelle,Gain/perte,Valeur comptable sur cession";
                                                                    ENC=" ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Proceeds on Disposal,Salvage Value,Gain/Loss,Book Value on Disposal"];
                                                   OptionString=[ ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Proceeds on Disposal,Salvage Value,Gain/Loss,Book Value on Disposal] }
    { 30  ;   ;Reversal Type       ;Option        ;CaptionML=[ENU=Reversal Type;
                                                              ESM=Tipo de reversi¢n;
                                                              FRC=Type de contrepassation;
                                                              ENC=Reversal Type];
                                                   OptionCaptionML=[ENU=Transaction,Register;
                                                                    ESM=Transacci¢n,Registro;
                                                                    FRC=Transaction,Registre;
                                                                    ENC=Transaction,Register];
                                                   OptionString=Transaction,Register }
  }
  KEYS
  {
    {    ;Line No.                                ;Clustered=Yes }
    {    ;Entry Type                               }
    {    ;Document No.,Posting Date,Entry Type,Entry No. }
    {    ;Entry Type,Entry No.                     }
    {    ;Transaction No.                          }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      GLSetup@1000 : Record 98;
      TempReversalEntry@1001 : TEMPORARY Record 179;
      GLEntry@1007 : Record 17;
      CustLedgEntry@1006 : Record 21;
      VendLedgEntry@1005 : Record 25;
      EmployeeLedgerEntry@1031 : Record 5222;
      BankAccLedgEntry@1004 : Record 271;
      VATEntry@1003 : Record 254;
      FALedgEntry@1002 : Record 5601;
      MaintenanceLedgEntry@1009 : Record 5625;
      GLReg@1008 : Record 45;
      Text000@1010 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry is either applied to an entry or has been changed by a batch job.;ESM=No es posible revertir %1 nß %2, el movimiento liquida otro movimiento o fue modificado por un trabajo por lotes.;FRC=Vous ne pouvez pas inverser %1 n¯ %2 car l''Çcriture est affectÇe Ö une Çcriture ou a ÇtÇ modifiÇe par un traitement en lot.;ENC=You cannot reverse %1 No. %2 because the entry is either applied to an entry or has been changed by a batch job.';
      FAReg@1015 : Record 5617;
      GenJnlCheckLine@1011 : Codeunit 11;
      Text001@1012 : TextConst 'ENU=You cannot reverse %1 No. %2 because the posting date is not within the allowed posting period.;ESM=No es posible revertir %1 nß %2, la fecha de registro no corresponde al periodo de registro aceptado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car la date de report n''est pas comprise dans la pÇriode de report permise.;ENC=You cannot reverse %1 No. %2 because the posting date is not within the allowed posting period.';
      AllowPostingFrom@1014 : Date;
      AllowPostingto@1013 : Date;
      Text002@1016 : TextConst 'ENU=You cannot reverse the transaction because it is out of balance.;ESM=No es posible revertir la transacci¢n porque est† descuadrada.;FRC=Vous ne pouvez pas inverser la transaction, car elle est hors balance.;ENC=You cannot reverse the transaction because it is out of balance.';
      Text003@1017 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry has a related check ledger entry.;ESM=No es posible revertir %1 nß %2, existe una entrada de registro de cheque correspondiente al movimiento.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car l''Çcriture est associÇe Ö une Çcriture chäque.;ENC=You cannot reverse %1 No. %2 because the entry has a related cheque ledger entry.';
      Text004@1018 : TextConst 'ENU=You can only reverse entries that were posted from a journal.;ESM=S¢lo puede invertir entradas registradas desde un diario.;FRC=Vous ne pouvez inverser que les Çcritures qui ont ÇtÇ reportÇes Ö partir d''un journal.;ENC=You can only reverse entries that were posted from a journal.';
      Text005@1020 : TextConst 'ENU=You cannot reverse %1 No. %2 because the %3 is not within the allowed posting period.;ESM=No es posible revertir %1 nß %2, %3 no corresponde al periodo de registro aceptado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car %3 n''est pas compris dans la pÇriode de report permise.;ENC=You cannot reverse %1 No. %2 because the %3 is not within the allowed posting period.';
      Text006@1022 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry is closed.;ESM=No es posible revertir %1 nß %2, el movimiento ha sido cerrado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car l''Çcriture est fermÇe.;ENC=You cannot reverse %1 No. %2 because the entry is closed.';
      Text007@1021 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry is included in a bank account reconciliation line. The bank reconciliation has not yet been posted.;ESM=No es posible revertir %1 nß %2, el movimiento est† incluido en una l°nea de conciliaci¢n banco que a£n no se ha registrado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car l''Çcriture est comprise dans une ligne de rapprochement d''un compte bancaire. Le rapprochement bancaire n''a pas encore ÇtÇ reportÇ.;ENC=You cannot reverse %1 No. %2 because the entry is included in a bank account reconciliation line. The bank reconciliation has not yet been posted.';
      Text008@1019 : TextConst 'ENU=You cannot reverse the transaction because the %1 has been sold.;ESM=No es posible revertir la transacci¢n, se ha vendido el %1.;FRC="Impossible d''inverser la transaction; %1 a ÇtÇ vendu.";ENC=You cannot reverse the transaction because the %1 has been sold.';
      MaxPostingDate@1024 : Date;
      CannotReverseDeletedErr@1025 : TextConst '@@@="%1 and %2 = table captions";ENU=The transaction cannot be reversed, because the %1 has been compressed or a %2 has been deleted.;ESM=No es posible revertir la transacci¢n, se comprimi¢ el %1 o se elimin¢ un %2.;FRC="Impossible d''inverser la transaction; %1 a ÇtÇ compressÇ ou un %2 a ÇtÇ supprimÇ.";ENC=The transaction cannot be reversed, because the %1 has been compressed or a %2 has been deleted.';
      Text010@1023 : TextConst 'ENU=You cannot reverse %1 No. %2 because the register has already been involved in a reversal.;ESM=No es posible revertir %1 nß %2, el registro ya se ha incluido en una reversi¢n.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car le registre a dÇjÖ fait l''objet d''une contrepassation.;ENC=You cannot reverse %1 No. %2 because the register has already been involved in a reversal.';
      Text011@1026 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry has already been involved in a reversal.;ESM=No es posible revertir %1 nß %2, el movimiento ya se ha incluido en una reversi¢n.;FRC=Vous ne pouvez pas inverser %1 n¯ %2, car l''Çcriture a dÇjÖ fait l''objet d''une contrepassation.;ENC=You cannot reverse %1 No. %2 because the entry has already been involved in a reversal.';
      PostedAndAppliedSameTransactionErr@1028 : TextConst '@@@="%1=""G/L Register No.""";ENU=You cannot reverse register number %1 because it contains customer or vendor or employee ledger entries that have been posted and applied in the same transaction.\\You must reverse each transaction in register number %1 separately.;ESM=No puede revertir el n£mero de registro %1 porque contiene movimientos contables de cliente o proveedor o empleado registrados y aplicados en la misma transacci¢n.\\Debe revertir por separado cada transacci¢n en el n£mero de registro %1.;FRC=Vous ne pouvez pas inverser le numÇro de registre %1, car il contient des Çcritures client, fournisseur ou employÇ qui ont ÇtÇ reportÇes etˇaffectÇes dans la màme transaction.\\Vous devez inverser chaque transaction du numÇro de registre %1 sÇparÇment.;ENC=You cannot reverse register number %1 because it contains customer or vendor or employee ledger entries that have been posted and applied in the same transaction.\\You must reverse each transaction in register number %1 separately.';
      Text013@1039 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry has an associated Realized Gain/Loss entry.;ESM=No es posible revertir %1 nß %2 porque la entrada tiene un movimiento Beneficio/pÇrdida realizado asociado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2 car l''Çcriture est associÇe Ö une Çcriture gain/perte rÇalisÇe.;ENC=You cannot reverse %1 No. %2 because the entry has an associated Realized Gain/Loss entry.';
      HideDialog@1030 : Boolean;
      UnrealizedVATReverseErr@1027 : TextConst 'ENU=You cannot reverse %1 No. %2 because the entry has an associated unrealized Tax Entry.;ESM=No es posible revertir %1 nß %2 porque la entrada tiene un movimiento IVA no realizado asociado.;FRC=Vous ne pouvez pas inverser %1 n¯ %2 car l''Çcriture est associÇe Ö une Çcriture TVA non rÇalisÇe.;ENC=You cannot reverse %1 No. %2 because the entry has an associated Unrealized Tax Entry.';
      HideWarningDialogs@1029 : Boolean;

    [External]
    PROCEDURE ReverseTransaction@8(TransactionNo@1000 : Integer);
    BEGIN
      ReverseEntries(TransactionNo,"Reversal Type"::Transaction);
    END;

    [External]
    PROCEDURE ReverseRegister@9(RegisterNo@1000 : Integer);
    VAR
      GLReg@1001 : Record 45;
    BEGIN
      GLReg.GET(RegisterNo);
      IF GLReg.Reversed THEN
        ERROR(Text010,GLReg.TABLECAPTION,GLReg."No.");
      IF GLReg."Journal Batch Name" = '' THEN
        TempReversalEntry.TestFieldError;

      ReverseEntries(RegisterNo,"Reversal Type"::Register);
    END;

    LOCAL PROCEDURE ReverseEntries@32(Number@1001 : Integer;RevType@1000 : 'Transaction,Register');
    VAR
      ReversalPost@1002 : Codeunit 179;
    BEGIN
      InsertReversalEntry(Number,RevType);
      TempReversalEntry.SETCURRENTKEY("Document No.","Posting Date","Entry Type","Entry No.");
      IF NOT HideDialog THEN
        PAGE.RUNMODAL(PAGE::"Reverse Entries",TempReversalEntry)
      ELSE BEGIN
        ReversalPost.SetPrint(FALSE);
        ReversalPost.SetHideDialog(HideWarningDialogs);
        ReversalPost.RUN(TempReversalEntry);
      END;
      TempReversalEntry.DELETEALL;
    END;

    LOCAL PROCEDURE InsertReversalEntry@7(Number@1000 : Integer;RevType@1007 : 'Transaction,Register');
    VAR
      TempRevertTransactionNo@1005 : TEMPORARY Record 2000000026;
      NextLineNo@1008 : Integer;
    BEGIN
      GLSetup.GET;
      TempReversalEntry.DELETEALL;
      NextLineNo := 1;
      TempRevertTransactionNo.Number := Number;
      TempRevertTransactionNo.INSERT;
      SetReverseFilter(Number,RevType);

      InsertFromCustLedgEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      InsertFromVendLedgEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      InsertFromEmplLedgerEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      InsertFromBankAccLedgEntry(Number,RevType,NextLineNo);
      InsertFromFALedgEntry(Number,RevType,NextLineNo);
      InsertFromMaintenanceLedgEntry(Number,RevType,NextLineNo);
      InsertFromVATEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      InsertFromGLEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      OnAfterInsertReversalEntry(TempRevertTransactionNo,Number,RevType,NextLineNo);
      IF TempReversalEntry.FIND('-') THEN;
    END;

    [External]
    PROCEDURE CheckEntries@14();
    VAR
      GLAcc@1001 : Record 15;
      DtldCustLedgEntry@1006 : Record 379;
      DtldVendLedgEntry@1007 : Record 380;
      DetailedEmployeeLedgerEntry@1003 : Record 5223;
      DateComprReg@1000 : Record 87;
      BalanceCheckAmount@1012 : Decimal;
      BalanceCheckAddCurrAmount@1010 : Decimal;
      SkipCheck@1002 : Boolean;
    BEGIN
      DtldCustLedgEntry.LOCKTABLE;
      DtldVendLedgEntry.LOCKTABLE;
      DetailedEmployeeLedgerEntry.LOCKTABLE;
      GLEntry.LOCKTABLE;
      CustLedgEntry.LOCKTABLE;
      VendLedgEntry.LOCKTABLE;
      EmployeeLedgerEntry.LOCKTABLE;
      BankAccLedgEntry.LOCKTABLE;
      FALedgEntry.LOCKTABLE;
      MaintenanceLedgEntry.LOCKTABLE;
      VATEntry.LOCKTABLE;
      GLReg.LOCKTABLE;
      FAReg.LOCKTABLE;
      GLSetup.GET;
      MaxPostingDate := 0D;

      SkipCheck := FALSE;
      OnBeforeCheckEntries(Rec,DATABASE::"G/L Entry",SkipCheck);
      IF NOT SkipCheck THEN BEGIN
        IF GLEntry.ISEMPTY THEN
          ERROR(CannotReverseDeletedErr,GLEntry.TABLECAPTION,GLAcc.TABLECAPTION);
        IF GLEntry.FIND('-') THEN BEGIN
          IF GLEntry."Journal Batch Name" = '' THEN
            TestFieldError;
          REPEAT
            CheckGLAcc(GLEntry,BalanceCheckAmount,BalanceCheckAddCurrAmount);
          UNTIL GLEntry.NEXT = 0;
        END;
        IF (BalanceCheckAmount <> 0) OR (BalanceCheckAddCurrAmount <> 0) THEN
          ERROR(Text002);
      END;

      IF CustLedgEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"Cust. Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckCust(CustLedgEntry);
          UNTIL CustLedgEntry.NEXT = 0;
      END;

      IF VendLedgEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"Vendor Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckVend(VendLedgEntry);
          UNTIL VendLedgEntry.NEXT = 0;
      END;

      IF EmployeeLedgerEntry.FINDSET THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"Employee Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckEmpl(EmployeeLedgerEntry);
          UNTIL EmployeeLedgerEntry.NEXT = 0;
      END;

      IF BankAccLedgEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"Bank Account Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckBankAcc(BankAccLedgEntry);
          UNTIL BankAccLedgEntry.NEXT = 0;
      END;

      IF FALedgEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"FA Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckFA(FALedgEntry);
          UNTIL FALedgEntry.NEXT = 0;
      END;

      IF MaintenanceLedgEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"Maintenance Ledger Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckMaintenance(MaintenanceLedgEntry);
          UNTIL MaintenanceLedgEntry.NEXT = 0;
      END;

      IF VATEntry.FIND('-') THEN BEGIN
        SkipCheck := FALSE;
        OnBeforeCheckEntries(Rec,DATABASE::"VAT Entry",SkipCheck);
        IF NOT SkipCheck THEN
          REPEAT
            CheckVAT(VATEntry);
          UNTIL VATEntry.NEXT = 0;
      END;

      OnAfterCheckEntries;

      DateComprReg.CheckMaxDateCompressed(MaxPostingDate,1);
    END;

    LOCAL PROCEDURE CheckGLAcc@13(GLEntry@1000 : Record 17;VAR BalanceCheckAmount@1002 : Decimal;VAR BalanceCheckAddCurrAmount@1001 : Decimal);
    VAR
      GLAcc@1003 : Record 15;
    BEGIN
      GLAcc.GET(GLEntry."G/L Account No.");
      CheckPostingDate(GLEntry."Posting Date",GLEntry.TABLECAPTION,GLEntry."Entry No.");
      GLAcc.TESTFIELD(Blocked,FALSE);
      GLEntry.TESTFIELD("Job No.",'');
      IF GLEntry.Reversed THEN
        AlreadyReversedEntry(GLEntry.TABLECAPTION,GLEntry."Entry No.");
      BalanceCheckAmount := BalanceCheckAmount + GLEntry.Amount;
      IF GLSetup."Additional Reporting Currency" <> '' THEN
        BalanceCheckAddCurrAmount := BalanceCheckAddCurrAmount + GLEntry."Additional-Currency Amount";

      OnAfterCheckGLAcc(GLAcc,GLEntry);
    END;

    LOCAL PROCEDURE CheckCust@16(CustLedgEntry@1001 : Record 21);
    VAR
      Cust@1000 : Record 18;
    BEGIN
      Cust.GET(CustLedgEntry."Customer No.");
      CheckPostingDate(
        CustLedgEntry."Posting Date",CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No.");
      Cust.CheckBlockedCustOnJnls(Cust,CustLedgEntry."Document Type",FALSE);
      IF CustLedgEntry.Reversed THEN
        AlreadyReversedEntry(CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No.");
      CheckDtldCustLedgEntry(CustLedgEntry);

      OnAfterCheckCust(Cust,CustLedgEntry);
    END;

    LOCAL PROCEDURE CheckVend@17(VendLedgEntry@1001 : Record 25);
    VAR
      Vend@1000 : Record 23;
    BEGIN
      Vend.GET(VendLedgEntry."Vendor No.");
      CheckPostingDate(
        VendLedgEntry."Posting Date",VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No.");
      Vend.CheckBlockedVendOnJnls(Vend,VendLedgEntry."Document Type",FALSE);
      IF VendLedgEntry.Reversed THEN
        AlreadyReversedEntry(VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No.");
      CheckDtldVendLedgEntry(VendLedgEntry);

      OnAfterCheckVend(Vend,VendLedgEntry);
    END;

    LOCAL PROCEDURE CheckEmpl@68(EmployeeLedgerEntry@1000 : Record 5222);
    VAR
      Employee@1001 : Record 5200;
    BEGIN
      Employee.GET(EmployeeLedgerEntry."Employee No.");
      CheckPostingDate(
        EmployeeLedgerEntry."Posting Date",EmployeeLedgerEntry.TABLECAPTION,EmployeeLedgerEntry."Entry No.");
      Employee.CheckBlockedEmployeeOnJnls(FALSE);
      IF EmployeeLedgerEntry.Reversed THEN
        AlreadyReversedEntry(EmployeeLedgerEntry.TABLECAPTION,EmployeeLedgerEntry."Entry No.");
      CheckDtldEmplLedgEntry(EmployeeLedgerEntry);

      OnAfterCheckEmpl(Employee,EmployeeLedgerEntry);
    END;

    LOCAL PROCEDURE CheckBankAcc@18(BankAccLedgEntry@1000 : Record 271);
    VAR
      BankAcc@1001 : Record 270;
      CheckLedgEntry@1002 : Record 272;
    BEGIN
      BankAcc.GET(BankAccLedgEntry."Bank Account No.");
      CheckPostingDate(
        BankAccLedgEntry."Posting Date",BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
      BankAcc.TESTFIELD(Blocked,FALSE);
      IF BankAccLedgEntry.Reversed THEN
        AlreadyReversedEntry(BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
      IF NOT BankAccLedgEntry.Open THEN
        ERROR(
          Text006,BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
      IF BankAccLedgEntry."Statement No." <> '' THEN
        ERROR(
          Text007,BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
      CheckLedgEntry.SETRANGE("Bank Account Ledger Entry No.",BankAccLedgEntry."Entry No.");
      IF NOT CheckLedgEntry.ISEMPTY THEN
        ERROR(
          Text003,BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");

      OnAfterCheckBankAcc(BankAcc,BankAccLedgEntry);
    END;

    LOCAL PROCEDURE CheckFA@19(FALedgEntry@1000 : Record 5601);
    VAR
      FA@1001 : Record 5600;
      FADeprBook@1002 : Record 5612;
      DeprCalc@1003 : Codeunit 5616;
    BEGIN
      FA.GET(FALedgEntry."FA No.");
      CheckPostingDate(
        FALedgEntry."Posting Date",FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
      CheckFAPostingDate(
        FALedgEntry."FA Posting Date",FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
      FA.TESTFIELD(Blocked,FALSE);
      FA.TESTFIELD(Inactive,FALSE);
      IF FALedgEntry.Reversed THEN
        AlreadyReversedEntry(FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
      FALedgEntry.TESTFIELD("Depreciation Book Code");
      FADeprBook.GET(FA."No.",FALedgEntry."Depreciation Book Code");
      IF FADeprBook."Disposal Date" <> 0D THEN
        ERROR(Text008,DeprCalc.FAName(FA,FALedgEntry."Depreciation Book Code"));
      FALedgEntry.TESTFIELD("G/L Entry No.");

      OnAfterCheckFA(FA,FALedgEntry);
    END;

    LOCAL PROCEDURE CheckMaintenance@20(MaintenanceLedgEntry@1000 : Record 5625);
    VAR
      FA@1001 : Record 5600;
      FADeprBook@1002 : Record 5612;
    BEGIN
      FA.GET(MaintenanceLedgEntry."FA No.");
      CheckPostingDate(
        MaintenanceLedgEntry."Posting Date",MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
      CheckFAPostingDate(
        MaintenanceLedgEntry."FA Posting Date",MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
      FA.TESTFIELD(Blocked,FALSE);
      FA.TESTFIELD(Inactive,FALSE);
      MaintenanceLedgEntry.TESTFIELD("Depreciation Book Code");
      IF MaintenanceLedgEntry.Reversed THEN
        AlreadyReversedEntry(MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
      FADeprBook.GET(FA."No.",MaintenanceLedgEntry."Depreciation Book Code");
      MaintenanceLedgEntry.TESTFIELD("G/L Entry No.");

      OnAfterCheckMaintenance(FA,MaintenanceLedgEntry);
    END;

    LOCAL PROCEDURE CheckVAT@21(VATEntry@1000 : Record 254);
    BEGIN
      CheckPostingDate(VATEntry."Posting Date",VATEntry.TABLECAPTION,VATEntry."Entry No.");
      IF VATEntry.Closed THEN
        ERROR(
          Text006,VATEntry.TABLECAPTION,VATEntry."Entry No.");
      IF VATEntry.Reversed THEN
        AlreadyReversedEntry(VATEntry.TABLECAPTION,VATEntry."Entry No.");
      IF VATEntry."Unrealized VAT Entry No." <> 0 THEN
        ERROR(UnrealizedVATReverseError(VATEntry.TABLECAPTION,VATEntry."Entry No."));

      OnAfterCheckVAT(VATEntry);
    END;

    LOCAL PROCEDURE CheckDtldCustLedgEntry@2(CustLedgEntry@1000 : Record 21);
    VAR
      DtldCustLedgEntry@1001 : Record 379;
    BEGIN
      DtldCustLedgEntry.SETCURRENTKEY("Cust. Ledger Entry No.","Entry Type");
      DtldCustLedgEntry.SETRANGE("Cust. Ledger Entry No.",CustLedgEntry."Entry No.");
      DtldCustLedgEntry.SETFILTER("Entry Type",'<>%1',DtldCustLedgEntry."Entry Type"::"Initial Entry");
      DtldCustLedgEntry.SETRANGE(Unapplied,FALSE);
      IF NOT DtldCustLedgEntry.ISEMPTY THEN
        ERROR(ReversalErrorForChangedEntry(CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No."));

      DtldCustLedgEntry.RESET;
      DtldCustLedgEntry.SETCURRENTKEY("Transaction No.","Customer No.","Entry Type");
      DtldCustLedgEntry.SETRANGE("Transaction No.",CustLedgEntry."Transaction No.");
      DtldCustLedgEntry.SETRANGE("Customer No.",CustLedgEntry."Customer No.");
      DtldCustLedgEntry.SETFILTER("Entry Type",'%1|%2',
        DtldCustLedgEntry."Entry Type"::"Realized Gain",DtldCustLedgEntry."Entry Type"::"Realized Loss");
      IF NOT DtldCustLedgEntry.ISEMPTY THEN
        ERROR(Text013,CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No.");

      OnAfterCheckDtldCustLedgEntry(DtldCustLedgEntry);
    END;

    LOCAL PROCEDURE CheckDtldVendLedgEntry@28(VendLedgEntry@1000 : Record 25);
    VAR
      DtldVendLedgEntry@1001 : Record 380;
    BEGIN
      DtldVendLedgEntry.SETCURRENTKEY("Vendor Ledger Entry No.","Entry Type");
      DtldVendLedgEntry.SETRANGE("Vendor Ledger Entry No.",VendLedgEntry."Entry No.");
      DtldVendLedgEntry.SETFILTER("Entry Type",'<>%1',DtldVendLedgEntry."Entry Type"::"Initial Entry");
      DtldVendLedgEntry.SETRANGE(Unapplied,FALSE);
      IF NOT DtldVendLedgEntry.ISEMPTY THEN
        ERROR(ReversalErrorForChangedEntry(VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No."));

      DtldVendLedgEntry.RESET;
      DtldVendLedgEntry.SETCURRENTKEY("Transaction No.","Vendor No.","Entry Type");
      DtldVendLedgEntry.SETRANGE("Transaction No.",VendLedgEntry."Transaction No.");
      DtldVendLedgEntry.SETRANGE("Vendor No.",VendLedgEntry."Vendor No.");
      DtldVendLedgEntry.SETFILTER("Entry Type",'%1|%2',
        DtldVendLedgEntry."Entry Type"::"Realized Gain",DtldVendLedgEntry."Entry Type"::"Realized Loss");
      IF NOT DtldVendLedgEntry.ISEMPTY THEN
        ERROR(Text013,VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No.");

      OnAfterCheckDtldVendLedgEntry(DtldVendLedgEntry);
    END;

    LOCAL PROCEDURE CheckDtldEmplLedgEntry@72(EmployeeLedgerEntry@1000 : Record 5222);
    VAR
      DetailedEmployeeLedgerEntry@1001 : Record 5223;
    BEGIN
      DetailedEmployeeLedgerEntry.SETRANGE("Employee Ledger Entry No.",EmployeeLedgerEntry."Entry No.");
      DetailedEmployeeLedgerEntry.SETFILTER("Entry Type",'<>%1',DetailedEmployeeLedgerEntry."Entry Type"::"Initial Entry");
      DetailedEmployeeLedgerEntry.SETRANGE(Unapplied,FALSE);
      IF NOT DetailedEmployeeLedgerEntry.ISEMPTY THEN
        ERROR(ReversalErrorForChangedEntry(EmployeeLedgerEntry.TABLECAPTION,EmployeeLedgerEntry."Entry No."));

      OnAfterCheckDtldEmplLedgEntry(DetailedEmployeeLedgerEntry);
    END;

    [External]
    PROCEDURE SetReverseFilter@1(Number@1001 : Integer;RevType@1000 : 'Transaction,Register');
    BEGIN
      IF RevType = RevType::Transaction THEN BEGIN
        GLEntry.SETCURRENTKEY("Transaction No.");
        CustLedgEntry.SETCURRENTKEY("Transaction No.");
        VendLedgEntry.SETCURRENTKEY("Transaction No.");
        EmployeeLedgerEntry.SETCURRENTKEY("Transaction No.");
        BankAccLedgEntry.SETCURRENTKEY("Transaction No.");
        FALedgEntry.SETCURRENTKEY("Transaction No.");
        MaintenanceLedgEntry.SETCURRENTKEY("Transaction No.");
        VATEntry.SETCURRENTKEY("Transaction No.");
        GLEntry.SETRANGE("Transaction No.",Number);
        CustLedgEntry.SETRANGE("Transaction No.",Number);
        VendLedgEntry.SETRANGE("Transaction No.",Number);
        EmployeeLedgerEntry.SETRANGE("Transaction No.",Number);
        BankAccLedgEntry.SETRANGE("Transaction No.",Number);
        FALedgEntry.SETRANGE("Transaction No.",Number);
        FALedgEntry.SETFILTER("G/L Entry No.",'<>%1',0);
        MaintenanceLedgEntry.SETRANGE("Transaction No.",Number);
        VATEntry.SETRANGE("Transaction No.",Number);
      END ELSE BEGIN
        GLReg.GET(Number);
        GLEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        CustLedgEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        VendLedgEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        EmployeeLedgerEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        BankAccLedgEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        FALedgEntry.SETCURRENTKEY("G/L Entry No.");
        FALedgEntry.SETRANGE("G/L Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        MaintenanceLedgEntry.SETCURRENTKEY("G/L Entry No.");
        MaintenanceLedgEntry.SETRANGE("G/L Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
        VATEntry.SETRANGE("Entry No.",GLReg."From VAT Entry No.",GLReg."To VAT Entry No.");
      END;

      OnAfterSetReverseFilter(Number,RevType);
    END;

    [External]
    PROCEDURE CopyReverseFilters@15(VAR GLEntry2@1007 : Record 17;VAR CustLedgEntry2@1006 : Record 21;VAR VendLedgEntry2@1005 : Record 25;VAR BankAccLedgEntry2@1004 : Record 271;VAR VATEntry2@1003 : Record 254;VAR FALedgEntry2@1002 : Record 5601;VAR MaintenanceLedgEntry2@1001 : Record 5625;VAR EmployeeLedgerEntry2@1000 : Record 5222);
    BEGIN
      GLEntry2.COPY(GLEntry);
      CustLedgEntry2.COPY(CustLedgEntry);
      VendLedgEntry2.COPY(VendLedgEntry);
      EmployeeLedgerEntry2.COPY(EmployeeLedgerEntry);
      BankAccLedgEntry2.COPY(BankAccLedgEntry);
      VATEntry2.COPY(VATEntry);
      FALedgEntry2.COPY(FALedgEntry);
      MaintenanceLedgEntry2.COPY(MaintenanceLedgEntry);
    END;

    [External]
    PROCEDURE ShowGLEntries@22();
    BEGIN
      PAGE.RUN(0,GLEntry);
    END;

    [External]
    PROCEDURE ShowCustLedgEntries@26();
    BEGIN
      PAGE.RUN(0,CustLedgEntry);
    END;

    [External]
    PROCEDURE ShowVendLedgEntries@5();
    BEGIN
      PAGE.RUN(0,VendLedgEntry);
    END;

    [External]
    PROCEDURE ShowBankAccLedgEntries@6();
    BEGIN
      PAGE.RUN(0,BankAccLedgEntry);
    END;

    [External]
    PROCEDURE ShowFALedgEntries@10();
    BEGIN
      PAGE.RUN(0,FALedgEntry);
    END;

    [External]
    PROCEDURE ShowMaintenanceLedgEntries@12();
    BEGIN
      PAGE.RUN(0,MaintenanceLedgEntry);
    END;

    [External]
    PROCEDURE ShowVATEntries@11();
    BEGIN
      PAGE.RUN(0,VATEntry);
    END;

    [External]
    PROCEDURE Caption@3() : Text[250];
    VAR
      GLAcc@1000 : Record 15;
      GLEntry@1002 : Record 17;
      Cust@1001 : Record 18;
      CustLedgEntry@1003 : Record 21;
      Vend@1004 : Record 23;
      VendLedgEntry@1005 : Record 25;
      Employee@1013 : Record 5200;
      EmployeeLedgerEntry@1014 : Record 5222;
      BankAcc@1006 : Record 270;
      BankAccLedgEntry@1007 : Record 271;
      FA@1008 : Record 5600;
      FALedgEntry@1009 : Record 5601;
      MaintenanceLedgEntry@1011 : Record 5625;
      VATEntry@1010 : Record 254;
      NewCaption@1012 : Text[250];
    BEGIN
      CASE "Entry Type" OF
        "Entry Type"::"G/L Account":
          BEGIN
            IF GLEntry.GET("Entry No.") THEN;
            IF GLAcc.GET(GLEntry."G/L Account No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',GLAcc.TABLECAPTION,GLAcc."No.",GLAcc.Name));
          END;
        "Entry Type"::Customer:
          BEGIN
            IF CustLedgEntry.GET("Entry No.") THEN;
            IF Cust.GET(CustLedgEntry."Customer No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',Cust.TABLECAPTION,Cust."No.",Cust.Name));
          END;
        "Entry Type"::Vendor:
          BEGIN
            IF VendLedgEntry.GET("Entry No.") THEN;
            IF Vend.GET(VendLedgEntry."Vendor No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',Vend.TABLECAPTION,Vend."No.",Vend.Name));
          END;
        "Entry Type"::Employee:
          BEGIN
            IF EmployeeLedgerEntry.GET("Entry No.") THEN;
            IF Employee.GET(EmployeeLedgerEntry."Employee No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',Employee.TABLECAPTION,Employee."No.",Employee.FullName));
          END;
        "Entry Type"::"Bank Account":
          BEGIN
            IF BankAccLedgEntry.GET("Entry No.") THEN;
            IF BankAcc.GET(BankAccLedgEntry."Bank Account No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',BankAcc.TABLECAPTION,BankAcc."No.",BankAcc.Name));
          END;
        "Entry Type"::"Fixed Asset":
          BEGIN
            IF FALedgEntry.GET("Entry No.") THEN;
            IF FA.GET(FALedgEntry."FA No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',FA.TABLECAPTION,FA."No.",FA.Description));
          END;
        "Entry Type"::Maintenance:
          BEGIN
            IF MaintenanceLedgEntry.GET("Entry No.") THEN;
            IF FA.GET(MaintenanceLedgEntry."FA No.") THEN;
            EXIT(STRSUBSTNO('%1 %2 %3',FA.TABLECAPTION,FA."No.",FA.Description));
          END;
        "Entry Type"::VAT:
          EXIT(STRSUBSTNO('%1',VATEntry.TABLECAPTION));
        ELSE BEGIN
          OnAfterCaption(Rec,NewCaption);
          EXIT(NewCaption);
        END;
      END;
    END;

    LOCAL PROCEDURE CheckPostingDate@23(PostingDate@1000 : Date;Caption@1002 : Text[50];EntryNo@1001 : Integer);
    BEGIN
      IF GenJnlCheckLine.DateNotAllowed(PostingDate) THEN
        ERROR(Text001,Caption,EntryNo);
      IF PostingDate > MaxPostingDate THEN
        MaxPostingDate := PostingDate;
    END;

    LOCAL PROCEDURE CheckFAPostingDate@24(FAPostingDate@1000 : Date;Caption@1004 : Text[50];EntryNo@1003 : Integer);
    VAR
      UserSetup@1001 : Record 91;
      FASetup@1002 : Record 5603;
    BEGIN
      IF (AllowPostingFrom = 0D) AND (AllowPostingto = 0D) THEN BEGIN
        IF USERID <> '' THEN
          IF UserSetup.GET(USERID) THEN BEGIN
            AllowPostingFrom := UserSetup."Allow FA Posting From";
            AllowPostingto := UserSetup."Allow FA Posting To";
          END;
        IF (AllowPostingFrom = 0D) AND (AllowPostingto = 0D) THEN BEGIN
          FASetup.GET;
          AllowPostingFrom := FASetup."Allow FA Posting From";
          AllowPostingto := FASetup."Allow FA Posting To";
        END;
        IF AllowPostingto = 0D THEN
          AllowPostingto := 12319998D;
      END;
      IF (FAPostingDate < AllowPostingFrom) OR (FAPostingDate > AllowPostingto) THEN
        ERROR(Text005,Caption,EntryNo,FALedgEntry.FIELDCAPTION("FA Posting Date"));
      IF FAPostingDate > MaxPostingDate THEN
        MaxPostingDate := FAPostingDate;
    END;

    [External]
    PROCEDURE TestFieldError@4();
    BEGIN
      ERROR(Text004);
    END;

    [External]
    PROCEDURE AlreadyReversedEntry@29(Caption@1000 : Text[50];EntryNo@1001 : Integer);
    BEGIN
      ERROR(Text011,Caption,EntryNo);
    END;

    PROCEDURE VerifyReversalEntries@25(VAR ReversalEntry2@1000 : Record 179;Number@1002 : Integer;RevType@1001 : 'Transaction,Register') : Boolean;
    BEGIN
      InsertReversalEntry(Number,RevType);
      CLEAR(TempReversalEntry);
      CLEAR(ReversalEntry2);
      IF ReversalEntry2.FINDSET THEN
        REPEAT
          IF TempReversalEntry.NEXT = 0 THEN
            EXIT(FALSE);
          IF NOT TempReversalEntry.Equal(ReversalEntry2) THEN
            EXIT(FALSE);
        UNTIL ReversalEntry2.NEXT = 0;
      EXIT(TempReversalEntry.NEXT = 0);
    END;

    [External]
    PROCEDURE Equal@27(ReversalEntry2@1000 : Record 179) : Boolean;
    BEGIN
      EXIT(
        ("Entry Type" = ReversalEntry2."Entry Type") AND
        ("Entry No." = ReversalEntry2."Entry No."));
    END;

    [External]
    PROCEDURE ReversalErrorForChangedEntry@31(TableName@1000 : Text[50];EntryNo@1001 : Integer) : Text[1024];
    BEGIN
      EXIT(STRSUBSTNO(Text000,TableName,EntryNo));
    END;

    [External]
    PROCEDURE SetHideDialog@30(NewHideDialog@1000 : Boolean);
    BEGIN
      HideDialog := NewHideDialog;
    END;

    [External]
    PROCEDURE SetHideWarningDialogs@41();
    BEGIN
      HideDialog := TRUE;
      HideWarningDialogs := TRUE;
    END;

    LOCAL PROCEDURE UnrealizedVATReverseError@33(TableName@1001 : Text[50];EntryNo@1000 : Integer) : Text;
    BEGIN
      EXIT(STRSUBSTNO(UnrealizedVATReverseErr,TableName,EntryNo));
    END;

    LOCAL PROCEDURE InsertFromCustLedgEntry@34(VAR TempRevertTransactionNo@1006 : TEMPORARY Record 2000000026;Number@1001 : Integer;RevType@1002 : 'Transaction,Register';VAR NextLineNo@1003 : Integer);
    VAR
      Cust@1000 : Record 18;
      DtldCustLedgEntry@1004 : Record 379;
    BEGIN
      DtldCustLedgEntry.SETCURRENTKEY("Transaction No.","Customer No.","Entry Type");
      DtldCustLedgEntry.SETFILTER(
        "Entry Type",'<>%1',DtldCustLedgEntry."Entry Type"::"Initial Entry");
      IF CustLedgEntry.FINDSET THEN
        REPEAT
          DtldCustLedgEntry.SETRANGE("Transaction No.",CustLedgEntry."Transaction No.");
          DtldCustLedgEntry.SETRANGE("Customer No.",CustLedgEntry."Customer No.");
          IF (NOT DtldCustLedgEntry.ISEMPTY) AND (RevType = RevType::Register) THEN
            ERROR(PostedAndAppliedSameTransactionErr,Number);

          CLEAR(TempReversalEntry);
          IF RevType = RevType::Register THEN
            TempReversalEntry."G/L Register No." := Number;
          TempReversalEntry."Reversal Type" := RevType;
          TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::Customer;
          Cust.GET(CustLedgEntry."Customer No.");
          TempReversalEntry."Account No." := Cust."No.";
          TempReversalEntry."Account Name" := Cust.Name;
          TempReversalEntry.CopyFromCustLedgEntry(CustLedgEntry);
          TempReversalEntry."Line No." := NextLineNo;
          NextLineNo := NextLineNo + 1;
          TempReversalEntry.INSERT;

          DtldCustLedgEntry.SETRANGE(Unapplied,TRUE);
          IF DtldCustLedgEntry.FINDSET THEN
            REPEAT
              InsertCustTempRevertTransNo(TempRevertTransactionNo,DtldCustLedgEntry."Unapplied by Entry No.");
            UNTIL DtldCustLedgEntry.NEXT = 0;
          DtldCustLedgEntry.SETRANGE(Unapplied);
        UNTIL CustLedgEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromVendLedgEntry@35(VAR TempRevertTransactionNo@1005 : TEMPORARY Record 2000000026;Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      Vend@1003 : Record 23;
      DtldVendLedgEntry@1004 : Record 380;
    BEGIN
      DtldVendLedgEntry.SETCURRENTKEY("Transaction No.","Vendor No.","Entry Type");
      DtldVendLedgEntry.SETFILTER(
        "Entry Type",'<>%1',DtldVendLedgEntry."Entry Type"::"Initial Entry");
      IF VendLedgEntry.FINDSET THEN
        REPEAT
          DtldVendLedgEntry.SETRANGE("Transaction No.",VendLedgEntry."Transaction No.");
          DtldVendLedgEntry.SETRANGE("Vendor No.",VendLedgEntry."Vendor No.");
          IF (NOT DtldVendLedgEntry.ISEMPTY) AND (RevType = RevType::Register) THEN
            ERROR(PostedAndAppliedSameTransactionErr,Number);

          CLEAR(TempReversalEntry);
          IF RevType = RevType::Register THEN
            TempReversalEntry."G/L Register No." := Number;
          TempReversalEntry."Reversal Type" := RevType;
          TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::Vendor;
          Vend.GET(VendLedgEntry."Vendor No.");
          TempReversalEntry."Account No." := Vend."No.";
          TempReversalEntry."Account Name" := Vend.Name;
          TempReversalEntry.CopyFromVendLedgEntry(VendLedgEntry);
          TempReversalEntry."Line No." := NextLineNo;
          NextLineNo := NextLineNo + 1;
          TempReversalEntry.INSERT;

          DtldVendLedgEntry.SETRANGE(Unapplied,TRUE);
          IF DtldVendLedgEntry.FINDSET THEN
            REPEAT
              InsertVendTempRevertTransNo(TempRevertTransactionNo,DtldVendLedgEntry."Unapplied by Entry No.");
            UNTIL DtldVendLedgEntry.NEXT = 0;
          DtldVendLedgEntry.SETRANGE(Unapplied);
        UNTIL VendLedgEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromEmplLedgerEntry@61(VAR TempRevertTransactionNo@1003 : TEMPORARY Record 2000000026;Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      DetailedEmployeeLedgerEntry@1004 : Record 5223;
    BEGIN
      DetailedEmployeeLedgerEntry.SETCURRENTKEY("Transaction No.","Employee No.","Entry Type");
      DetailedEmployeeLedgerEntry.SETFILTER(
        "Entry Type",'<>%1',DetailedEmployeeLedgerEntry."Entry Type"::"Initial Entry");

      IF EmployeeLedgerEntry.FINDSET THEN
        REPEAT
          DetailedEmployeeLedgerEntry.SETRANGE("Transaction No.",EmployeeLedgerEntry."Transaction No.");
          DetailedEmployeeLedgerEntry.SETRANGE("Employee No.",EmployeeLedgerEntry."Employee No.");
          IF (NOT DetailedEmployeeLedgerEntry.ISEMPTY) AND (RevType = RevType::Register) THEN
            ERROR(PostedAndAppliedSameTransactionErr,Number);

          InsertTempReversalEntryEmployee(Number,RevType,NextLineNo);
          NextLineNo += 1;

          InsertTempRevertTransactionNoUnappliedEmployeeEntries(TempRevertTransactionNo,DetailedEmployeeLedgerEntry);

        UNTIL EmployeeLedgerEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromBankAccLedgEntry@36(Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      BankAcc@1003 : Record 270;
    BEGIN
      IF BankAccLedgEntry.FINDSET THEN
        REPEAT
          CLEAR(TempReversalEntry);
          IF RevType = RevType::Register THEN
            TempReversalEntry."G/L Register No." := Number;
          TempReversalEntry."Reversal Type" := RevType;
          TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::"Bank Account";
          BankAcc.GET(BankAccLedgEntry."Bank Account No.");
          TempReversalEntry."Account No." := BankAcc."No.";
          TempReversalEntry."Account Name" := BankAcc.Name;
          TempReversalEntry.CopyFromBankAccLedgEntry(BankAccLedgEntry);
          TempReversalEntry."Line No." := NextLineNo;
          NextLineNo := NextLineNo + 1;
          TempReversalEntry.INSERT;
        UNTIL BankAccLedgEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromFALedgEntry@37(Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      FA@1003 : Record 5600;
    BEGIN
      IF FALedgEntry.FINDSET THEN
        REPEAT
          CLEAR(TempReversalEntry);
          IF RevType = RevType::Register THEN
            TempReversalEntry."G/L Register No." := Number;
          TempReversalEntry."Reversal Type" := RevType;
          TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::"Fixed Asset";
          FA.GET(FALedgEntry."FA No.");
          TempReversalEntry."Account No." := FA."No.";
          TempReversalEntry."Account Name" := FA.Description;
          TempReversalEntry.CopyFromFALedgEntry(FALedgEntry);
          IF FALedgEntry."FA Posting Type" <> FALedgEntry."FA Posting Type"::"Salvage Value" THEN BEGIN
            TempReversalEntry."Line No." := NextLineNo;
            NextLineNo := NextLineNo + 1;
            TempReversalEntry.INSERT;
          END;
        UNTIL FALedgEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromMaintenanceLedgEntry@38(Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      FA@1003 : Record 5600;
    BEGIN
      IF MaintenanceLedgEntry.FINDSET THEN
        REPEAT
          CLEAR(TempReversalEntry);
          IF RevType = RevType::Register THEN
            TempReversalEntry."G/L Register No." := Number;
          TempReversalEntry."Reversal Type" := RevType;
          TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::Maintenance;
          FA.GET(MaintenanceLedgEntry."FA No.");
          TempReversalEntry."Account No." := FA."No.";
          TempReversalEntry."Account Name" := FA.Description;
          TempReversalEntry.CopyFromMaintenanceEntry(MaintenanceLedgEntry);
          TempReversalEntry."Line No." := NextLineNo;
          NextLineNo := NextLineNo + 1;
          TempReversalEntry.INSERT;
        UNTIL MaintenanceLedgEntry.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromVATEntry@39(VAR TempRevertTransactionNo@1004 : TEMPORARY Record 2000000026;Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    BEGIN
      TempRevertTransactionNo.FINDSET;
      REPEAT
        IF RevType = RevType::Transaction THEN
          VATEntry.SETRANGE("Transaction No.",TempRevertTransactionNo.Number);
        IF VATEntry.FINDSET THEN
          REPEAT
            CLEAR(TempReversalEntry);
            IF RevType = RevType::Register THEN
              TempReversalEntry."G/L Register No." := Number;
            TempReversalEntry."Reversal Type" := RevType;
            TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::VAT;
            TempReversalEntry.CopyFromVATEntry(VATEntry);
            TempReversalEntry."Line No." := NextLineNo;
            NextLineNo := NextLineNo + 1;
            TempReversalEntry.INSERT;
          UNTIL VATEntry.NEXT = 0;
      UNTIL TempRevertTransactionNo.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertFromGLEntry@40(VAR TempRevertTransactionNo@1005 : TEMPORARY Record 2000000026;Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1000 : Integer);
    VAR
      GLAcc@1004 : Record 15;
    BEGIN
      TempRevertTransactionNo.FINDSET;
      REPEAT
        IF RevType = RevType::Transaction THEN
          GLEntry.SETRANGE("Transaction No.",TempRevertTransactionNo.Number);
        IF GLEntry.FINDSET THEN
          REPEAT
            CLEAR(TempReversalEntry);
            IF RevType = RevType::Register THEN
              TempReversalEntry."G/L Register No." := Number;
            TempReversalEntry."Reversal Type" := RevType;
            TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::"G/L Account";
            IF NOT GLAcc.GET(GLEntry."G/L Account No.") THEN
              ERROR(CannotReverseDeletedErr,GLEntry.TABLECAPTION,GLAcc.TABLECAPTION);
            TempReversalEntry."Account No." := GLAcc."No.";
            TempReversalEntry."Account Name" := GLAcc.Name;
            TempReversalEntry.CopyFromGLEntry(GLEntry);
            TempReversalEntry."Line No." := NextLineNo;
            NextLineNo := NextLineNo + 1;
            TempReversalEntry.INSERT;
          UNTIL GLEntry.NEXT = 0;
      UNTIL TempRevertTransactionNo.NEXT = 0;
    END;

    LOCAL PROCEDURE InsertTempReversalEntryEmployee@69(Number@1004 : Integer;RevType@1003 : 'Transaction,Register';NextLineNo@1002 : Integer);
    VAR
      Employee@1000 : Record 5200;
    BEGIN
      CLEAR(TempReversalEntry);
      IF RevType = RevType::Register THEN
        TempReversalEntry."G/L Register No." := Number;
      TempReversalEntry."Reversal Type" := RevType;
      TempReversalEntry."Entry Type" := TempReversalEntry."Entry Type"::Employee;
      Employee.GET(EmployeeLedgerEntry."Employee No.");
      TempReversalEntry."Account No." := Employee."No.";
      TempReversalEntry."Account Name" := COPYSTR(Employee.FullName,1,MAXSTRLEN(TempReversalEntry."Account Name"));
      TempReversalEntry.CopyFromEmployeeLedgerEntry(EmployeeLedgerEntry);
      TempReversalEntry."Line No." := NextLineNo;
      TempReversalEntry.INSERT;
    END;

    PROCEDURE CopyFromCustLedgEntry@57(CustLedgEntry@1001 : Record 21);
    BEGIN
      "Entry No." := CustLedgEntry."Entry No.";
      "Posting Date" := CustLedgEntry."Posting Date";
      "Source Code" := CustLedgEntry."Source Code";
      "Journal Batch Name" := CustLedgEntry."Journal Batch Name";
      "Transaction No." := CustLedgEntry."Transaction No.";
      "Currency Code" := CustLedgEntry."Currency Code";
      Description := CustLedgEntry.Description;
      CustLedgEntry.CALCFIELDS(Amount,"Debit Amount","Credit Amount",
        "Amount (LCY)","Debit Amount (LCY)","Credit Amount (LCY)");
      Amount := CustLedgEntry.Amount;
      "Debit Amount" := CustLedgEntry."Debit Amount";
      "Credit Amount" := CustLedgEntry."Credit Amount";
      "Amount (LCY)" := CustLedgEntry."Amount (LCY)";
      "Debit Amount (LCY)" := CustLedgEntry."Debit Amount (LCY)";
      "Credit Amount (LCY)" := CustLedgEntry."Credit Amount (LCY)";
      "Document Type" := CustLedgEntry."Document Type";
      "Document No." := CustLedgEntry."Document No.";
      "Bal. Account Type" := CustLedgEntry."Bal. Account Type";
      "Bal. Account No." := CustLedgEntry."Bal. Account No.";

      OnAfterCopyFromCustLedgEntry(Rec,CustLedgEntry);
    END;

    PROCEDURE CopyFromBankAccLedgEntry@53(BankAccLedgEntry@1001 : Record 271);
    BEGIN
      "Entry No." := BankAccLedgEntry."Entry No.";
      "Posting Date" := BankAccLedgEntry."Posting Date";
      "Source Code" := BankAccLedgEntry."Source Code";
      "Journal Batch Name" := BankAccLedgEntry."Journal Batch Name";
      "Transaction No." := BankAccLedgEntry."Transaction No.";
      "Currency Code" := BankAccLedgEntry."Currency Code";
      Description := BankAccLedgEntry.Description;
      Amount := BankAccLedgEntry.Amount;
      "Debit Amount" := BankAccLedgEntry."Debit Amount";
      "Credit Amount" := BankAccLedgEntry."Credit Amount";
      "Amount (LCY)" := BankAccLedgEntry."Amount (LCY)";
      "Debit Amount (LCY)" := BankAccLedgEntry."Debit Amount (LCY)";
      "Credit Amount (LCY)" := BankAccLedgEntry."Credit Amount (LCY)";
      "Document Type" := BankAccLedgEntry."Document Type";
      "Document No." := BankAccLedgEntry."Document No.";
      "Bal. Account Type" := BankAccLedgEntry."Bal. Account Type";
      "Bal. Account No." := BankAccLedgEntry."Bal. Account No.";

      OnAfterCopyFromBankAccLedgEntry(Rec,BankAccLedgEntry);
    END;

    PROCEDURE CopyFromFALedgEntry@51(FALedgEntry@1001 : Record 5601);
    BEGIN
      "Entry No." := FALedgEntry."Entry No.";
      "Posting Date" := FALedgEntry."Posting Date";
      "FA Posting Category" := FALedgEntry."FA Posting Category";
      "FA Posting Type" := FALedgEntry."FA Posting Type" + 1;
      "Source Code" := FALedgEntry."Source Code";
      "Journal Batch Name" := FALedgEntry."Journal Batch Name";
      "Transaction No." := FALedgEntry."Transaction No.";
      Description := FALedgEntry.Description;
      "Amount (LCY)" := FALedgEntry.Amount;
      "Debit Amount (LCY)" := FALedgEntry."Debit Amount";
      "Credit Amount (LCY)" := FALedgEntry."Credit Amount";
      "VAT Amount" := FALedgEntry."VAT Amount";
      "Document Type" := FALedgEntry."Document Type";
      "Document No." := FALedgEntry."Document No.";
      "Bal. Account Type" := FALedgEntry."Bal. Account Type";
      "Bal. Account No." := FALedgEntry."Bal. Account No.";

      OnAfterCopyFromFALedgEntry(Rec,FALedgEntry);
    END;

    PROCEDURE CopyFromGLEntry@42(GLEntry@1000 : Record 17);
    BEGIN
      "Entry No." := GLEntry."Entry No.";
      "Posting Date" := GLEntry."Posting Date";
      "Source Code" := GLEntry."Source Code";
      "Journal Batch Name" := GLEntry."Journal Batch Name";
      "Transaction No." := GLEntry."Transaction No.";
      "Source Type" := GLEntry."Source Type";
      "Source No." := GLEntry."Source No.";
      Description := GLEntry.Description;
      "Amount (LCY)" := GLEntry.Amount;
      "Debit Amount (LCY)" := GLEntry."Debit Amount";
      "Credit Amount (LCY)" := GLEntry."Credit Amount";
      "VAT Amount" := GLEntry."VAT Amount";
      "Document Type" := GLEntry."Document Type";
      "Document No." := GLEntry."Document No.";
      "Bal. Account Type" := GLEntry."Bal. Account Type";
      "Bal. Account No." := GLEntry."Bal. Account No.";

      OnAfterCopyFromGLEntry(Rec,GLEntry);
    END;

    PROCEDURE CopyFromMaintenanceEntry@49(MaintenanceLedgEntry@1001 : Record 5625);
    BEGIN
      "Entry No." := MaintenanceLedgEntry."Entry No.";
      "Posting Date" := MaintenanceLedgEntry."Posting Date";
      "Source Code" := MaintenanceLedgEntry."Source Code";
      "Journal Batch Name" := MaintenanceLedgEntry."Journal Batch Name";
      "Transaction No." := MaintenanceLedgEntry."Transaction No.";
      Description := MaintenanceLedgEntry.Description;
      "Amount (LCY)" := MaintenanceLedgEntry.Amount;
      "Debit Amount (LCY)" := MaintenanceLedgEntry."Debit Amount";
      "Credit Amount (LCY)" := MaintenanceLedgEntry."Credit Amount";
      "VAT Amount" := MaintenanceLedgEntry."VAT Amount";
      "Document Type" := MaintenanceLedgEntry."Document Type";
      "Document No." := MaintenanceLedgEntry."Document No.";
      "Bal. Account Type" := MaintenanceLedgEntry."Bal. Account Type";
      "Bal. Account No." := MaintenanceLedgEntry."Bal. Account No.";

      OnAfterCopyFromMaintenanceEntry(Rec,MaintenanceLedgEntry);
    END;

    PROCEDURE CopyFromVATEntry@47(VATEntry@1001 : Record 254);
    BEGIN
      "Entry No." := VATEntry."Entry No.";
      "Posting Date" := VATEntry."Posting Date";
      "Source Code" := VATEntry."Source Code";
      "Transaction No." := VATEntry."Transaction No.";
      Amount := VATEntry.Amount;
      "Amount (LCY)" := VATEntry.Amount;
      "Document Type" := VATEntry."Document Type";
      "Document No." := VATEntry."Document No.";

      OnAfterCopyFromVATEntry(Rec,VATEntry);
    END;

    PROCEDURE CopyFromVendLedgEntry@55(VendLedgEntry@1001 : Record 25);
    BEGIN
      "Entry No." := VendLedgEntry."Entry No.";
      "Posting Date" := VendLedgEntry."Posting Date";
      "Source Code" := VendLedgEntry."Source Code";
      "Journal Batch Name" := VendLedgEntry."Journal Batch Name";
      "Transaction No." := VendLedgEntry."Transaction No.";
      "Currency Code" := VendLedgEntry."Currency Code";
      Description := VendLedgEntry.Description;
      VendLedgEntry.CALCFIELDS(Amount,"Debit Amount","Credit Amount",
        "Amount (LCY)","Debit Amount (LCY)","Credit Amount (LCY)");
      Amount := VendLedgEntry.Amount;
      "Debit Amount" := VendLedgEntry."Debit Amount";
      "Credit Amount" := VendLedgEntry."Credit Amount";
      "Amount (LCY)" := VendLedgEntry."Amount (LCY)";
      "Debit Amount (LCY)" := VendLedgEntry."Debit Amount (LCY)";
      "Credit Amount (LCY)" := VendLedgEntry."Credit Amount (LCY)";
      "Document Type" := VendLedgEntry."Document Type";
      "Document No." := VendLedgEntry."Document No.";
      "Bal. Account Type" := VendLedgEntry."Bal. Account Type";
      "Bal. Account No." := VendLedgEntry."Bal. Account No.";

      OnAfterCopyFromVendLedgEntry(Rec,VendLedgEntry);
    END;

    PROCEDURE CopyFromEmployeeLedgerEntry@62(EmployeeLedgerEntry@1000 : Record 5222);
    BEGIN
      "Entry No." := EmployeeLedgerEntry."Entry No.";
      "Posting Date" := EmployeeLedgerEntry."Posting Date";
      "Source Code" := EmployeeLedgerEntry."Source Code";
      "Journal Batch Name" := EmployeeLedgerEntry."Journal Batch Name";
      "Transaction No." := EmployeeLedgerEntry."Transaction No.";
      "Currency Code" := EmployeeLedgerEntry."Currency Code";
      Description := EmployeeLedgerEntry.Description;
      EmployeeLedgerEntry.CALCFIELDS(
        Amount,"Debit Amount","Credit Amount","Amount (LCY)","Debit Amount (LCY)","Credit Amount (LCY)");
      Amount := EmployeeLedgerEntry.Amount;
      "Debit Amount" := EmployeeLedgerEntry."Debit Amount";
      "Credit Amount" := EmployeeLedgerEntry."Credit Amount";
      "Amount (LCY)" := EmployeeLedgerEntry."Amount (LCY)";
      "Debit Amount (LCY)" := EmployeeLedgerEntry."Debit Amount (LCY)";
      "Credit Amount (LCY)" := EmployeeLedgerEntry."Credit Amount (LCY)";
      "Document Type" := EmployeeLedgerEntry."Document Type";
      "Document No." := EmployeeLedgerEntry."Document No.";
      "Bal. Account Type" := EmployeeLedgerEntry."Bal. Account Type";
      "Bal. Account No." := EmployeeLedgerEntry."Bal. Account No.";

      OnAfterCopyFromEmplLedgEntry(Rec,EmployeeLedgerEntry);
    END;

    LOCAL PROCEDURE InsertCustTempRevertTransNo@44(VAR TempRevertTransactionNo@1000 : TEMPORARY Record 2000000026;CustLedgEntryNo@1001 : Integer);
    VAR
      DtldCustLedgEntry@1002 : Record 379;
    BEGIN
      DtldCustLedgEntry.GET(CustLedgEntryNo);
      IF DtldCustLedgEntry."Transaction No." <> 0 THEN BEGIN
        TempRevertTransactionNo.Number := DtldCustLedgEntry."Transaction No.";
        IF TempRevertTransactionNo.INSERT THEN;
      END;
    END;

    LOCAL PROCEDURE InsertVendTempRevertTransNo@45(VAR TempRevertTransactionNo@1000 : TEMPORARY Record 2000000026;VendLedgEntryNo@1001 : Integer);
    VAR
      DtldVendLedgEntry@1002 : Record 380;
    BEGIN
      DtldVendLedgEntry.GET(VendLedgEntryNo);
      IF DtldVendLedgEntry."Transaction No." <> 0 THEN BEGIN
        TempRevertTransactionNo.Number := DtldVendLedgEntry."Transaction No.";
        IF TempRevertTransactionNo.INSERT THEN;
      END;
    END;

    LOCAL PROCEDURE InsertEmplTempRevertTransNo@64(VAR TempRevertTransactionNo@1001 : TEMPORARY Record 2000000026;EmployeeLedgEntryNo@1000 : Integer);
    VAR
      DetailedEmployeeLedgerEntry@1002 : Record 5223;
    BEGIN
      DetailedEmployeeLedgerEntry.GET(EmployeeLedgEntryNo);
      IF DetailedEmployeeLedgerEntry."Transaction No." <> 0 THEN BEGIN
        TempRevertTransactionNo.Number := DetailedEmployeeLedgerEntry."Transaction No.";
        IF TempRevertTransactionNo.INSERT THEN;
      END;
    END;

    LOCAL PROCEDURE InsertTempRevertTransactionNoUnappliedEmployeeEntries@79(VAR TempRevertTransactionNo@1001 : TEMPORARY Record 2000000026;VAR DetailedEmployeeLedgerEntry@1000 : Record 5223);
    BEGIN
      DetailedEmployeeLedgerEntry.SETRANGE(Unapplied,TRUE);
      IF DetailedEmployeeLedgerEntry.FINDSET THEN
        REPEAT
          InsertEmplTempRevertTransNo(TempRevertTransactionNo,DetailedEmployeeLedgerEntry."Unapplied by Entry No.");
        UNTIL DetailedEmployeeLedgerEntry.NEXT = 0;
      DetailedEmployeeLedgerEntry.SETRANGE(Unapplied);
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCaption@43(ReversalEntry@1000 : Record 179;VAR NewCaption@1001 : Text[250]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckEntries@66();
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckBankAcc@75(BankAccount@1000 : Record 270;BankAccountLedgerEntry@1001 : Record 271);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckGLAcc@67(VAR GLAccount@1000 : Record 15;GLEntry@1001 : Record 17);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckCust@71(Customer@1000 : Record 18;CustLedgerEntry@1001 : Record 21);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckVend@73(Vendor@1000 : Record 23;VendorLedgerEntry@1001 : Record 25);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckEmpl@74(Employee@1000 : Record 5200;EmployeeLedgerEntry@1001 : Record 5222);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckFA@76(FixedAsset@1000 : Record 5600;FALedgerEntry@1001 : Record 5601);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckMaintenance@77(FixedAsset@1000 : Record 5600;MaintenanceLedgerEntry@1001 : Record 5625);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckVAT@80(VAR VATEntry@1000 : Record 254);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckDtldCustLedgEntry@82(DetailedCustLedgEntry@1000 : Record 379);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckDtldVendLedgEntry@83(DetailedVendorLedgEntry@1000 : Record 380);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckDtldEmplLedgEntry@84(DetailedEmployeeLedgerEntry@1000 : Record 5223);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromBankAccLedgEntry@52(VAR ReversalEntry@1000 : Record 179;BankAccLedgEntry@1001 : Record 271);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromCustLedgEntry@50(VAR ReversalEntry@1000 : Record 179;CustLedgerEntry@1001 : Record 21);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromFALedgEntry@54(VAR ReversalEntry@1000 : Record 179;FALedgerEntry@1001 : Record 5601);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromGLEntry@56(VAR ReversalEntry@1000 : Record 179;GLEntry@1001 : Record 17);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromMaintenanceEntry@58(VAR ReversalEntry@1000 : Record 179;MaintenanceLedgerEntry@1001 : Record 5625);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromVATEntry@59(VAR ReversalEntry@1000 : Record 179;VATEntry@1001 : Record 254);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromVendLedgEntry@60(VAR ReversalEntry@1000 : Record 179;VendorLedgerEntry@1001 : Record 25);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyFromEmplLedgEntry@65(VAR ReversalEntry@1000 : Record 179;EmployeeLedgerEntry@1001 : Record 5222);
    BEGIN
    END;

    [Integration(TRUE,TRUE)]
    LOCAL PROCEDURE OnAfterInsertReversalEntry@63(VAR TempRevertTransactionNo@1000 : Record 2000000026;Number@1002 : Integer;RevType@1001 : 'Transaction,Register';VAR NextLineNo@1003 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterSetReverseFilter@48(Number@1001 : Integer;RevType@1000 : 'Transaction,Register');
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeCheckEntries@46(ReversalEntry@1000 : Record 179;TableID@1001 : Integer;VAR SkipCheck@1002 : Boolean);
    BEGIN
    END;

    BEGIN
    END.
  }
}

